(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,n){e.exports=n(59)},32:function(e,t,n){},53:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),s=n(2),c=n.n(s),r=(n(32),n(11)),i=n(9),l=n.n(i),u=n(25),m=n(21),d=n(4),h=n(5),k=n(7),f=n(6),p=n(3),v=n(8),j=n(22),b=n.n(j),g=n(24),E=n(10),w=n.n(E);n(53);var y=function(e){return o.a.createElement("div",{className:"Counter"},o.a.createElement("button",{className:"Counter-button Counter-button--positive",onClick:function(){e.handleVote(e.id,1)}},o.a.createElement("i",{className:"fas fa-arrow-up"})),o.a.createElement("span",null,o.a.createElement("span",{className:"Counter-votes",style:{borderColor:e.count>=15?"#4CAF50":e.count>=12?"#8BC34A":e.count>=9?"#CDDC39":e.count>=6?"#FFEB3B":e.count>=3?"#FFC107":e.count>=0?"#FF9800":"#f44336"}},e.count)),o.a.createElement("button",{className:"Counter-button Counter-button--negative",onClick:function(){e.handleVote(e.id,-1)}},o.a.createElement("i",{className:"fas fa-arrow-down"})))};n(54);var J=function(e){return o.a.createElement("div",{className:"JokeText"},o.a.createElement("p",null,e.jokeText))};n(55);function N(e){return o.a.createElement("div",{className:"JokeEmoji"},o.a.createElement("i",{className:"JokeEmoji-emoji ".concat(e.votes>=15?"em em-rolling_on_the_floor_laughing":e.votes>=12?"em em-laughing":e.votes>=9?"em em-smiley":e.votes>=6?"em em-slightly_smiling_face":e.votes>=3?"em em-neutral_face":e.votes>=0?"em em-confused":"em em-angry")}))}n(56);var C=function(e){function t(e){return Object(d.a)(this,t),Object(k.a)(this,Object(f.a)(t).call(this,e))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"Joke"},o.a.createElement(y,{handleVote:this.props.handleVote,id:this.props.id,count:this.props.count}),o.a.createElement(J,{jokeText:this.props.jokeText}),o.a.createElement(N,{votes:this.props.count}))}}]),t}(a.Component),O=n(23);function x(){return o.a.createElement(O.a,{height:91,width:571,speed:4,primaryColor:"#f3f3f3",secondaryColor:"#ecebeb"},o.a.createElement("rect",{x:"73",y:"24",rx:"4",ry:"4",width:"422",height:"15"}),o.a.createElement("rect",{x:"73",y:"54",rx:"3",ry:"3",width:"307",height:"13"}),o.a.createElement("circle",{cx:"36",cy:"49",r:"24"}),o.a.createElement("circle",{cx:"539",cy:"45",r:"24"}))}n(57);var S=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(k.a)(this,Object(f.a)(t).call(this,e))).state={jokes:JSON.parse(window.localStorage.getItem("jokes")||"[]"),loading:!1},n.seenJokes=new Set(n.state.jokes.map(function(e){return e.joke})),n.handleVote=n.handleVote.bind(Object(p.a)(n)),n.handleClick=n.handleClick.bind(Object(p.a)(n)),n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){0===this.state.jokes.length&&this.loadNewJokes()}},{key:"loadNewJokes",value:function(){var e=Object(m.a)(l.a.mark(function e(){var t,n,a,o=this;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[];case 2:if(!(t.length<this.props.howManyJokesToLoad)){e.next=10;break}return e.next=5,b.a.get("https://icanhazdadjoke.com/",{headers:{Accept:"application/json"}});case 5:n=e.sent,a=n.data,this.seenJokes.has(a.joke)||t.push({joke:a.joke,id:w()(),votes:0}),e.next=2;break;case 10:this.setState(function(e){return{jokes:[].concat(Object(u.a)(e.jokes),t),loading:!1}},function(){window.localStorage.setItem("jokes",JSON.stringify(o.state.jokes))}),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(0),alert("Something went wrong."),console.log(e.t0),this.setState({loading:!1});case 18:case"end":return e.stop()}},e,this,[[0,13]])}));return function(){return e.apply(this,arguments)}}()},{key:"handleVote",value:function(e,t){var n=this,a=this.state.jokes.filter(function(t){return t.id===e})[0],o=Object(r.a)({},a,{votes:Number(a.votes+=t)});this.setState(function(e){return Object(r.a)({},e.jokes,{updatedJoke:o})},function(){window.localStorage.setItem("jokes",JSON.stringify(n.state.jokes))})}},{key:"handleClick",value:function(){this.setState({loading:!0},this.loadNewJokes)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"JokeList"},o.a.createElement("div",{className:"JokeList-sidebar"},o.a.createElement("h1",{className:"JokeList-title"},o.a.createElement("span",null,"Best")," Jokes"),o.a.createElement("img",{src:"https://assets.dryicons.com/uploads/icon/svg/8927/0eb14c71-38f2-433a-bfc8-23d9c99b3647.svg",alt:"Smily face"}),o.a.createElement("button",{className:"JokeList-getmore",onClick:this.handleClick},"Load More Jokes")),o.a.createElement("section",{className:"JokeList-jokes"},o.a.createElement(g.a,{enterAnimation:"fade",leaveAnimation:"fade"},this.state.jokes.sort(function(e,t){return t.votes-e.votes}).map(function(t){return o.a.createElement(C,{id:t.id,key:t.id,count:t.votes,jokeText:t.joke,handleVote:e.handleVote})})),this.state.loading&&Array.from({length:this.props.howManyJokesToLoad}).map(function(e){return o.a.createElement(x,{key:w()()})})))}}]),t}(a.Component);S.defaultProps={howManyJokesToLoad:10};n(58);var L=function(){return o.a.createElement("div",{className:"App"},o.a.createElement("div",{className:"App-container"},o.a.createElement(S,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[26,1,2]]]);
//# sourceMappingURL=main.c69232c3.chunk.js.map